<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <title>Quem é esse Pokémon? (Jogo de reconstrução de Imagem com PCA)</title>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
        <div class="card active" id="introduction">
            <h1>Quem é esse Pokémon?</h1>
            <h4>Um jogo de PCA Pokemon</h4>
            <p>O jogo é simples, aparecerá uma imagem com 6 pokemon "borrada", você deve tentar identificar os pokemon nela.<br>
            Se errar, a imagem ficará mais clara, porém receberá menos pontos por acertos. <br>
            Ao acertar todos você recebe um <b>bônus especial</b> e é gerada uma nova imagem!<br>
            Você também pode gerar uma nova imagem a qualquer momento pelo botão "Pular", mas sem bônus.<br>
            Consiga o máximo de pokemon que puder antes do tempo limite acabar!!!</p>
            <button class="btnStart">COMEÇAR</button>
        </div>
        <div class="card" id="game">
            <h1>Quem é esse Pokémon?</h1>
            <div class="stats">
                <b><span id="timeCount">1:10:000</span></b><br>
                Melhores componentes usados: <span id="compCount">0</span><br>
                Pontuação: <span id="scoreCount">0</span>
            </div>
            
            <canvas id="canvas" width="96" height="96"></canvas>
            
            <div id="status">Iniciando...</div>

            <input type="text" id="guess" placeholder="Digite o nome..." disabled>
            <div class="controls">
                <button id="btnGuess" disabled>CHUTAR</button>
                <button id="btnSkip" disabled>PULAR</button>
            </div>
        </div>
        <div class="card" id="end">
            <h1>Quem é esse Pokémon?</h1><br><br>
            <h2>Parabéns Você conseguiu <b id="pontuacao">0</b> pontos!!!!</h2><br><br>
            <button class="btnStart">Jogar Novamente</button>
        </div>

        <script src="https://unpkg.com/pokeapi-js-wrapper/dist/index.js"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script src="js/get_pokemon_data.js"></script>
        <script type="module">
            import {startGame} from './js/game.js';
            $('.btnStart').on('click', ()=>{
                $('.card').removeClass('active');
                $('#game').addClass('active');
                startGame((pontos)=>{
                    $('#end').addClass('active');
                    $('#pontuacao').html(pontos);
                    $('#game').removeClass('active');
                });
            });
        </script>
    </body>
</html>